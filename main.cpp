
//####################################################################################################################


#ifdef WIN32
        #define glGenerateMipmap glGenerateMipmapEXT        
        #define STRICT
        #define WIN32_LEAN_AND_MEAN
        #include <windows.h>
        #include <iostream.h>
        #include <fstream.h>
        //using namespace std; //___used for string object

        #include <GL/gl.h>

        HDC	       hDC        = NULL;
        HGLRC      hRC        = NULL;
        HWND       hWnd       = NULL;
        HINSTANCE  hInstance  = NULL;
        //-------------------------------
        int        WINAPI       WinMain(HINSTANCE hInstance,HINSTANCE hPrevInstance, LPSTR lpCmdLine, int nCmdShow);
        LRESULT    CALLBACK     WindowProc(HWND hWnd, UINT msg, WPARAM wParam, LPARAM lParam);
        //-------------------------------
        void       ProcessKeyboard();
        int        LoadTexture(char *texture_name, GLuint *texture);
        //-------------------------------
        bool keys[256], keypressed[256];

        #include "headerFiles/VSync.h"

        #include "headerFiles/glext.h" 
        #include "headerFiles/glext_Init_A.cpp" 

        #include  "headerFiles/fmod.h"
        #include  "headerFiles/fmod_errors.h"

        #include <windows.h>


        void ConfigureAndLoadTexture(GLubyte *textureData, GLint texWidth, GLint texHeight );
        #include "headerFiles/FreeImage.h"
        #include "cpp/freeImage.cpp"
    

        //#########################################################################################################|_FMOD
        GLuint funkLoop_VOLUME = 30;
        FSOUND_SAMPLE* funkLoop = NULL;
        //----------------------------------    
        FSOUND_SAMPLE* laser = NULL;
        GLuint laser_VOLUME = 50;

#endif
//####################################################################################################################


#include <math.h>
  

//###############################################################################################################################################

#include "MATRIX_MATH.cpp"

//###############################################################################################################################################


//----------------------------------------------------------------------------------------
#define BUFFER_OFFSET(i) ((char *)0 + (i))
//----------------------------------------------------------------------------------------



        void RenderGL(void);
        void InitGL  (void);
        void shutDownGL(void);
      
        #ifdef WIN32
               GLfloat viewWidth    = 1280;
               GLfloat viewHeight   =  800;
        #endif
        #ifdef __APPLE__
               GLfloat viewWidth;
               GLfloat viewHeight;
               GLuint  viewFramebuffer;        
        #endif        
        //-------------------------------------------------------------------------------

   


//#########################################################################################################|_FREE_IMAGE

	void ConfigureAndLoadTexture(GLubyte *textureData, GLint texWidth, GLint texHeight )
	{
	    glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_CLAMP);
	    glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_CLAMP);
		glTexParameterf(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR_MIPMAP_NEAREST); 
		glTexParameterf(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR_MIPMAP_NEAREST);	
    
	    glTexImage2D(GL_TEXTURE_2D, 0, GL_RGBA, texWidth, texHeight, 0, GL_BGRA, GL_UNSIGNED_BYTE, textureData);
    
	    glGenerateMipmap(GL_TEXTURE_2D);
	}
	//----------------------------------------------------------------------------------------------------------
   


//===============================================================================================================================                                                   

//---------------------------------------------------------------------------------------------------  

GLfloat     modelView[16];
GLfloat     projection[16];
GLfloat     mvpMatrix[16];
GLfloat     mvpMatrixInverse[16];
GLfloat     lightMatrix[16];  
GLfloat     moveSetMatrix[16]; 

GLuint      UNIFORM_MODELVIEWPROJ;
GLuint      UNIFORM_MODELVIEWPROJ_INVERSE;
GLuint      UNIFORM_LIGHT_MATRIX;

//===============================================================================================================================



                                //===================================================================================================================
                                
                                GLfloat         moveSet[]                                                   = {0.0, 0.0, 0.0}; 
                                #include        "_MODEL_FOLDERS_/marcParts/marc_GLOBALS.cpp"
                                
                                //====================================================================================================================    


          #ifdef WIN32
             #include "cpp/winInit.cpp"
          #endif  
          
          
          
          
          
//------------------------------------------------------------------------------------------------------------------------                 
  

//#####################################################################################################################################
//#####################################################################################################################################
//#####################################################################################################################################
//#####################################################################################################################################



void InitGL( void )//__END_INIT__@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@___END_INIT__
{


//==========================================================================
        #ifdef WIN32    
            #include "cpp/setPixelFormat.cpp"
            #include "headerFiles/glext_Init_B.cpp" 
            //-------------------------------------
            SetVSyncState(true);
        #endif
//==========================================================================
     

     #include "_MODEL_FOLDERS_/marcParts/marc_INIT.cpp"
    


//=================================================================================================================== 

    
//=================================================================================================================== 



    glEnable(GL_DEPTH_TEST);
    glDepthFunc(GL_LEQUAL);	
    glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);
    glAlphaFunc(GL_GREATER, 0.1);
    glEnable(GL_CULL_FACE);
    glCullFace(GL_BACK);  


//=====================================================================================================================



}//__END_INIT__@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@___END_INIT__



//#####################################################################################################################################
//#####################################################################################################################################
//#####################################################################################################################################
//#####################################################################################################################################


void RenderGL(void)
{
        //========================================================================================================================================================        
        //---------------------------------------------------SHADOW_FRAMEBUFFER_CODE_GOES_HERE_____________!!!!!!!!!!!!!!!!!!!!!!!!!!!!
        //---------------------------------------------------SHADOW_FRAMEBUFFER_CODE_GOES_HERE_____________!!!!!!!!!!!!!!!!!!!!!!!!!!!!    
        //========================================================================================================================================================    
        
        
        
        //========================================================================================================================================================    
        //---------------------------------------------------SHADOW_FRAMEBUFFER_CODE_GOES_HERE_____________!!!!!!!!!!!!!!!!!!!!!!!!!!!!    
        //---------------------------------------------------SHADOW_FRAMEBUFFER_CODE_GOES_HERE_____________!!!!!!!!!!!!!!!!!!!!!!!!!!!!    
        //========================================================================================================================================================        
        //---------------------------------------------------RETURN_TO_MAIN_FRAMEBUFFER____________________!!!!!!!!!!!!!!!!!!!!!!!!!!!!
        //---------------------------------------------------RETURN_TO_MAIN_FRAMEBUFFER____________________!!!!!!!!!!!!!!!!!!!!!!!!!!!!
        //========================================================================================================================================================        
        #ifdef __APPLE__    
               //glBindFramebuffer(GL_FRAMEBUFFER, 0); 	
               glBindFramebuffer(GL_FRAMEBUFFER, viewFramebuffer); 
        #endif    
        //========================================================================================================================================================        
        //---------------------------------------------------RETURN_TO_MAIN_FRAMEBUFFER____________________!!!!!!!!!!!!!!!!!!!!!!!!!!!!        
        //---------------------------------------------------RETURN_TO_MAIN_FRAMEBUFFER____________________!!!!!!!!!!!!!!!!!!!!!!!!!!!!          
        //========================================================================================================================================================



        //=========================================================================================================================================================    
        glClearColor( 0.0f, 0.0f, 0.0f, 0.5f );
        glClear (GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT | GL_STENCIL_BUFFER_BIT); 
        glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA); 
        //========================================================================================================================================================= 
        PerspectiveMatrix(projection, 45,(float)viewWidth / (float)viewHeight, 0.1, 10000);

    
        //=========================================================================================================================================================

    
        //=========================================================================================================================================================
        #include "_MODEL_FOLDERS_/marcParts/RenderMarc.cpp"
        //=========================================================================================================================================================

        #ifdef WIN32
             SwapBuffers( hDC );
        #endif
}

//#####################################################################################################################################
//#####################################################################################################################################
//#####################################################################################################################################
//#####################################################################################################################################


#ifdef WIN32 
void ProcessKeyboard()					
{
		

}
#endif


//#####################################################################################################################################
//#####################################################################################################################################
//#####################################################################################################################################
//#####################################################################################################################################



void shutDownGL( void )
{
    #ifdef WIN32
         #include "cpp/shutDownWin.cpp"
    #endif 	 

    //----------------------------------------------------------------------------------
    #include "_MODEL_FOLDERS_/marcParts/DeleteMarc.cpp"  

}


//===================================================================================================================================================================
//-------------------------------------------------------------------------------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------------------------------------------------------------------------------
//===================================================================================================================================================================




